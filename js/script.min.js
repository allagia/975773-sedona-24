var button=document.querySelector(".general-button"),popup=document.querySelector(".filter"),toggleClassPopup=function(){popup.classList.toggle("filter-show")},arrivalDate=popup.querySelector("[name=arrival-date]"),form=document.querySelector(".filter"),departureDate=popup.querySelector("[name=departure-date]"),adults=popup.querySelector("[name=adults]"),children=popup.querySelector("[name=children]"),isStorageSupport=!0,storageAdults="",storageChildren="";try{storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}toggleClassPopup(),button.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("filter-error"),toggleClassPopup(),arrivalDate.focus(),storageAdults&&(adults.value=storageAdults),storageChildren&&(children.value=storageChildren)}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adults.value&&children.value?isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("children",children.value)):(e.preventDefault(),console.log("Нужно ввести дату заезда, дату выезда, количество взрослых и детей"),popup.classList.remove("filter-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("filter-error"))});
